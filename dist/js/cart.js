"use strict";$(function(){$(".logo").hover(function(){$(".logo").children(".img1").stop().animate({left:54},150).next().stop().animate({left:0},150)},function(){$(".logo").children(".img1").stop().animate({left:1},150).next().stop().animate({left:-54},150)}),$(".cart-main-content").on("click",".icon-checkboxunchecked",function(){$(this).toggleClass("checked")});var s=JSON.parse(localStorage.getItem("cartList"));function c(){var n=s.every(function(n){return 1==n.isSelect}),t='\n        <div class="cart-main-top">\n            <div class="selectAll">\n                <i class="iconfont icon-checkboxunchecked check1 '.concat(n?"checked":"",'"><em class="iconfont icon-gougou"></em></i>\n                全选\n            </div>\n                <div class="cart-name">商品名称</div>\n                <span>单价</span>\n                <span>数量</span>\n                <span>小计</span>\n                <span>操作</span>\n            </div>\n            \n            \n          ');s.forEach(function(n){t+='\n              <div class="cart-main-mid">\n              <div class="solocheck">\n                  <i data-id='.concat(n.id,' class="iconfont icon-checkboxunchecked check2 ').concat(n.isSelect?"checked":"",'"><em class="iconfont icon-gougou"></em></i>\n              </div>\n             \n              <div class="imgBox">\n                  <img src="').concat(n.list_url,'" alt="">\n              </div>\n              <span class="cart-version">').concat(n.name,'</span>\n              <span class="piece">').concat(n.list.market_price_max,'元</span>\n              <div class="cart-num">\n                 <button class="jian" data-id=').concat(n.id,'>-</button><input type="text" value="').concat(n.num,'"><button class="jia" data-id=').concat(n.id,'>+</button>\n              </div>\n              <span class="xiaoji">').concat(n.xiaoji,'元</span>\n              <div class="delBox">\n                  <i class="iconfont icon-shanchu" data-id=').concat(n.id,"></i>\n              </div>\n          </div>\n              ")});var c=s.filter(function(n){return 1==n.isSelect}),a=s.length,i=0,o=0;c.forEach(function(n){i+=n.num,o+=n.xiaoji}),t+='  \n          <div class="cart-main-bottom">\n              <div class="catr-bottom-left">\n                  <span>继续购物</span>\n                  <span>共<i class="bottom-sum">'.concat(a,'</i>件商品,已选择<i class="bottom-num">').concat(i,'</i>件</span>\n              </div>\n              <div class="cart-bottom-right">\n                  <span>合计:<em class="pay-sum">').concat(o,'</em>元</span>\n                  <button href="javascript:;" class="pay-money ').concat(c.length?"":"pay-money-none",'">去结算</button>\n              </div>\n          </div>'),$(".cart-main-content").html(t)}s?(c(),$(".cart-main-content").on("click",".check1",function(){var t=this;s.forEach(function(n){n.isSelect=$(t).hasClass("checked")}),c(),localStorage.setItem("cartList",JSON.stringify(s))}),$(".cart-main-content").on("click",".check2",function(){console.log(this);var t=$(this).data("id");s.forEach(function(n){n.id==t&&(n.isSelect=!n.isSelect)}),c(),localStorage.setItem("cartList",JSON.stringify(s))}),$(".cart-main-content").on("click",".jian",function(){var t=$(this).data("id");s.forEach(function(n){n.id==t&&(1<n.num&&n.num--,console.log(n.num),n.xiaoji=n.num*n.list.market_price_max)}),c(),localStorage.setItem("cartList",JSON.stringify(s))}),$(".cart-main-content").on("click",".jia",function(){var t=$(this).data("id");s.forEach(function(n){n.id==t&&(n.num++,n.xiaoji=n.num*n.list.market_price_max)}),c(),localStorage.setItem("cartList",JSON.stringify(s))}),$(".cart-main-content").on("click",".icon-shanchu",function(){var t=$(this).data("id"),n=s.filter(function(n){return n.id!=t});s=n,c(),localStorage.setItem("cartList",JSON.stringify(n))})):alert("你的购物车还是空的,快去选购吧")});